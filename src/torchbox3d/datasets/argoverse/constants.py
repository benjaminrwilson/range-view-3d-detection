"""AV2 constants."""

from enum import Enum, unique
from typing import Final, Tuple

import numpy as np
from av2.datasets.sensor.constants import AnnotationCategories


@unique
class WaymoCompetitionCategories(str, Enum):
    """Waymo Open categories."""

    CYCLIST = "CYCLIST"
    PEDESTRIAN = "PEDESTRIAN"
    VEHICLE = "VEHICLE"


@unique
class NuscenesCompetitionCategories(str, Enum):
    """NuScenes categories."""

    BARRIER = "BARRIER"
    BICYCLE = "BICYCLE"
    BUS = "BUS"
    CAR = "CAR"
    CONSTRUCTION_VEHICLE = "CONSTRUCTION_VEHICLE"
    MOTORCYCLE = "MOTORCYCLE"
    PEDESTRIAN = "PEDESTRIAN"
    TRAFFIC_CONE = "TRAFFIC_CONE"
    TRAILER = "TRAILER"
    TRUCK = "TRUCK"


LABEL_ATTR: Final = (
    "tx_m",
    "ty_m",
    "tz_m",
    "length_m",
    "width_m",
    "height_m",
    "qw",
    "qx",
    "qy",
    "qz",
)

AV2_ANNO_NAMES_TO_INDEX: Final = {
    x.value: i for i, x in enumerate(AnnotationCategories)
}

DATASET_TO_TAXONOMY: Final = {
    "av2": AV2_ANNO_NAMES_TO_INDEX,
}

# LASER_ORDERING_INCORRECT: Final = [
#     31,
#     14,
#     16,
#     30,
#     29,
#     11,
#     13,
#     28,
#     27,
#     10,
#     12,
#     26,
#     25,
#     7,
#     9,
#     23,
#     24,
#     6,
#     8,
#     22,
#     21,
#     4,
#     5,
#     19,
#     20,
#     2,
#     3,
#     18,
#     17,
#     0,
#     1,
#     15,
# ]
# LASER_ORDERING_CORRECT: Final = [
#     31,
#     13,
#     1,
#     17,
#     29,
#     9,
#     3,
#     21,
#     27,
#     12,
#     5,
#     16,
#     25,
#     8,
#     7,
#     20,
#     22,
#     2,
#     10,
#     28,
#     23,
#     6,
#     11,
#     24,
#     18,
#     0,
#     14,
#     30,
#     19,
#     4,
#     15,
#     26,
# ]
# LASER_MAPPING: Final = dict(zip(LASER_ORDERING_INCORRECT, LASER_ORDERING_CORRECT))

# LASER_NUMBERS: Final = torch.as_tensor(
#     [
#         31,
#         17,
#         36,
#         29,
#         47,
#         21,
#         27,
#         32,
#         16,
#         25,
#         46,
#         22,
#         20,
#         28,
#         38,
#         23,
#         18,
#         24,
#         43,
#         30,
#         19,
#         34,
#         1,
#         40,
#         26,
#         42,
#         13,
#         39,
#         3,
#         44,
#         5,
#         41,
#         9,
#         37,
#         12,
#         35,
#         7,
#         45,
#         10,
#         58,
#         8,
#         33,
#         2,
#         51,
#         62,
#         11,
#         56,
#         50,
#         55,
#         6,
#         60,
#         52,
#         54,
#         14,
#         57,
#         48,
#         0,
#         59,
#         53,
#         15,
#         61,
#         4,
#         49,
#         63,
#     ]
# )

# LASER_MAPPING = np.array(
#     [
#         4,
#         15,
#         0,
#         14,
#         6,
#         11,
#         2,
#         8,
#         10,
#         7,
#         12,
#         9,
#         5,
#         3,
#         13,
#         26,
#         1,
#         19,
#         30,
#         24,
#         18,
#         23,
#         28,
#         20,
#         22,
#         25,
#         16,
#         27,
#         21,
#         29,
#         17,
#         31,
#     ]
# )
LASER_MAPPING = np.array(
    [
        4,
        15,
        0,
        14,
        6,
        11,
        2,
        8,
        10,
        7,
        12,
        9,
        5,
        3,
        13,
        26,
        1,
        19,
        30,
        24,
        18,
        23,
        28,
        20,
        22,
        25,
        16,
        27,
        21,
        29,
        17,
        31,
    ]
)


LOG_IDS = (
    "00a6ffc1-6ce9-3bc3-a060-6006e9893a1a",
    "01bb304d-7bd8-35f8-bbef-7086b688e35e",
    "080b1ce2-9477-39ee-8233-b7f33e1dfe56",
    "087695bd-c662-3e86-83b4-aedc3b8eec36",
    "094c4119-eb33-3dfb-a18d-492cbdc8413a",
    "0b5142c1-420b-3fea-9e98-b87327ae22c6",
    "0c3bad78-9f1e-395d-a376-2eb7499229fd",
    "105f47eb-491c-3cab-91af-83c5bc1f6c48",
    "11420316-aec9-3ad9-8b4a-d618bcd180e9",
    "11ba4e81-c26f-3cd1-827d-b6913bcef64e",
    "121007f3-a0cc-3795-9606-85108b800772",
    "134bb8e9-9080-3bc5-948d-88d8cc034550",
    "156a412d-3699-3c1c-9ada-6ab587347996",
    "182ba3f7-b89a-36cc-ae40-32a341b0d3e9",
    "1886b0d1-9c5e-326f-99df-30b64044638f",
    "18bdf01b-6ba6-30a8-a707-1f1458529d3d",
    "1992ed13-948e-34e6-8d9b-a3416e545a95",
    "19f53e16-9f99-3035-9672-7e860f3b0048",
    "1a6487dd-8bc6-3762-bd8a-2e50e15dbe75",
    "1d43ed4e-e705-308a-bdfa-49d99285c42a",
    "2501c6d0-071c-3a7a-b51f-c8cbd37abe25",
    "256c185c-284a-343e-93f4-894eed474edd",
    "2583a8ee-867d-3db6-b039-35b913fb8f70",
    "2716d83e-8c4f-39a3-a2a3-d5e255fe8a03",
    "27be7d34-ecb4-377b-8477-ccfd7cf4d0bc",
    "29080565-8133-3274-80cf-6ea98078e50d",
    "298715e3-b204-3bf5-b8c2-fe3be9e310e8",
    "2b044433-ddc1-3580-b560-d46474934089",
    "2b443c95-d55f-3cc4-a2a1-ae4af293d8d9",
    "2b6d18dc-4c95-3301-a498-3ed152798d5b",
    "2f2321d2-7912-3567-a789-25e46a145bda",
    "307e27f2-6442-39a2-b62c-1e3d000cebaf",
    "31f062b7-dd17-3e7e-945d-198e91597de9",
    "349c4c1c-9561-360f-9ae7-59772335d54b",
    "34c79495-dbdf-393d-bcc6-e6f92f797628",
    "34fe8fbd-2b1a-3552-94c4-e80d1e85e5c2",
    "380e5bf0-1c68-36a4-ac64-09a03b60bebf",
    "38609ed6-2445-3df3-bd92-849d3963510e",
    "399064b4-6df3-3de8-8793-2738f8723ee3",
    "3b2e6033-f37f-3a73-9fab-88317b9b6095",
    "3c3ed78e-1fcf-30ec-9e19-9bf142e2621d",
    "3ea6b5a0-510a-3157-ba88-5124d61280b0",
    "3fca5366-2b2c-387b-b63c-7ae8f9e0cec1",
    "4058d838-75cb-35e2-af7e-a51aaa833271",
    "40870b19-3356-3e8e-a4a4-9f34eef8ea30",
    "416f2e1c-0ffd-3089-97d2-0514b818f8d1",
    "41b6f7d7-e431-3992-b783-74b9edf42215",
    "45433055-2b69-3cff-8135-67b3bfa04034",
    "4612f4a4-59b0-37d4-b3d1-400a1324920c",
    "4619e709-c9c0-3b26-923f-23a78e231136",
    "4766da89-ca13-3e92-b53e-00bc710e9bba",
    "47972731-b0ea-3c38-a10f-5ffdd42329fc",
    "4935629c-fd9e-3b2f-b68e-9489c89585df",
    "4abe4fc9-183a-3ec1-9434-bc74fb724c0f",
    "4fcdebe7-b52f-39e7-a5bc-c664eeba5e7b",
    "511b93af-f16e-3195-8628-fbb972a17f74",
    "5133fc11-ecb7-318d-8338-6502d2390f24",
    "545ea917-a910-3013-a3f1-52a86dd6c8b1",
    "5677a441-abd2-3b29-9f0b-333e181cc907",
    "59a668bc-5caf-3ccc-8335-e9cff4c61d0e",
    "5bc5e7b0-4d90-3ac8-8ca8-f6037e1cf75c",
    "5c0584a3-52a6-3029-b6ff-ca45a19d8aa6",
    "5d333477-796b-3e49-bf41-0cdbed39c8dd",
    "5f5a25ff-ea07-3133-b5c6-26fada93f90f",
    "614812d4-3344-3975-a1c8-4131910c4a10",
    "6180bbb1-95ce-381b-ba17-5411c5712824",
    "6419dcfd-8777-35fa-924c-ebefccde0a9b",
    "65732efc-1564-3ff8-8c7c-4239a08c0d70",
    "67be173f-28a9-3bcc-b110-4b81dfe3bf5e",
    "6a6e93f0-a130-3340-975b-b2c88b16d343",
    "6dc6e668-549e-33b8-b952-ed8e807b1d48",
    "6ee06433-4820-3211-999a-95b79b2c692e",
    "6fa5051b-0220-3e04-8ae3-7a199c2f5877",
    "718a2f8d-954a-3cd8-89e6-43898cf21fee",
    "74648e09-358d-3183-9b40-278620befa40",
    "79f3de22-c643-3e97-96d5-f77274a458c0",
    "7c30c3fc-ea17-38d8-9c52-c75ccb112253",
    "7c4e5ad1-d604-3e44-81ae-68f7bfe21d27",
    "7ce85124-312b-35f0-a1a2-32206f75a947",
    "7dbc2eac-5871-3480-b322-246e03d954d2",
    "7df1f32e-f059-3ac4-9d57-213f2f69b8b4",
    "80da8956-f418-319c-9f49-3d47d9002546",
    "812a45e8-b5d9-389b-9151-09c57ce969df",
    "84bb4b17-e7f2-3a1b-8c2b-6d6ec9a23e31",
    "84ed050c-635f-36ec-9c28-8a0c10f5cf11",
    "8606d399-57d4-3ae9-938b-db7b8fb7ef8c",
    "8749f79f-a30b-3c3f-8a44-dbfa682bbef1",
    "890cf3b7-3385-390c-8b2e-132c744b5d2d",
    "89f79c55-6698-3037-bd2e-d40c81af169a",
    "8ee606e6-4cbd-3c07-8419-fbda836ccaac",
    "8f317f00-f8b4-325e-a5c7-e4045427a610",
    "9158b740-6527-3194-9953-6b7b3b28d544",
    "91aab547-1912-3b8e-8e7f-df3b202147bf",
    "9282db22-c361-3456-a7b5-414959f5f25e",
    "937093d8-7966-3df3-b334-0835595412b6",
    "945f3b20-778a-3581-adef-544de4a089ef",
    "95a47a36-1041-3924-bbd0-4dcad52c323a",
    "9807c577-0dc0-3116-864b-cf46a1276389",
    "9a372faa-e598-30e2-999f-99f90a0b099e",
    "9ec8f3a2-59ba-3ce2-827d-656ea5bc1f1f",
    "9fd55542-e982-361f-814f-61ad4ad07adf",
    "a060c4c1-b9fc-39c1-9d30-d93a124c9066",
    "a160c635-aa67-352c-a5e6-03b113493090",
    "a1c1d559-0480-39d2-94f0-1a89f0226c4f",
    "a3e09a66-a921-3c4a-89e6-7fecf6854a3a",
    "a4f240a0-12d4-3542-a11f-0c592e90e4da",
    "a6817756-af01-32ec-829f-d9e56ef7b6e8",
    "a7636fca-4d9e-3052-bef2-af0ce5d1df74",
    "a91d4c7b-bf55-3a0e-9eba-1a43577bcca8",
    "a98c14bf-bf01-3ae5-992d-ea9f0a18e3c7",
    "aa539866-29e4-353e-95a9-b6d321b53b33",
    "ab3d8387-8e07-37f6-a74c-cf100fb6a612",
    "ab83611b-436e-3de7-aad1-f0c9ad254196",
    "b0116f1c-f88f-3c09-b4bf-fc3c8ebeda56",
    "b1a98ad6-9b3e-35fb-afae-70b279fcbfc0",
    "b213af37-7d89-342d-ae39-8a3c72159a01",
    "b248d26b-9c48-3d5f-bda1-a05ec99c2d97",
    "b29b43d7-3af9-363e-aaeb-8805d958f982",
    "b51561d9-08b0-3599-bc78-016f1441bb91",
    "b6c4361a-7dd8-32a0-83d4-7f9d2beaed08",
    "b6e967f6-92bc-3bf5-99c9-1b0c4649fd67",
    "b81922e7-092f-3052-8cd1-fec6a6763295",
    "b9fcb487-363e-30a7-a316-a42dd81d8fe5",
    "ba737c78-2ef2-3643-a5b2-4804dfff9d93",
    "bba89165-0e5d-3052-abb6-6a61e37861a3",
    "bd4a7d9d-14e1-3c17-873d-a74d0cd6a5d7",
    "bd9636d2-7220-3585-9c7d-4acaea167b71",
    "bdb9d309-f14b-3ff6-ad1f-5d3f3f95a13e",
    "bdd7e8ba-f7fa-38d1-b6bf-9dc77334fec5",
    "bee1146d-2e80-37e3-b08a-6ac8858e8973",
    "bf382949-3515-3c16-b505-319442937a43",
    "bffb0c9e-5e3a-3251-ab5e-299491b53cbf",
    "c062ba0f-7591-3225-a57d-8181622dc2da",
    "c19d4b20-814d-3b2e-94e5-5d3003631496",
    "c2f301b6-5d19-3296-a8ac-418ff48e052b",
    "c45888cf-30f5-3e27-abeb-4f55caecc1f0",
    "c4ea1b05-c7d5-3b59-aed1-9f3d2621ac00",
    "c556f8e0-a001-3586-b2cf-d3256685c39f",
    "c780d53a-2d37-3cd8-9e89-530966aef53e",
    "c858bd6a-81ab-3f54-b46d-ffc091ef6945",
    "c85ebc24-0934-3423-9c14-f0fdbee64b68",
    "c91f95de-d041-32f6-8b18-628a220be100",
    "c94991c0-3662-3936-972c-1af63db486d8",
    "ce0575bf-c2fc-38bd-9947-ea7494a799f9",
    "d0828f48-3e67-3136-9c70-1f99968c8280",
    "d0cc23f4-f4ab-3755-8e63-2e3940f68d89",
    "d26b95e4-d200-34e2-92c9-c16fda4cd9dd",
    "d5d6f11c-3026-3e0e-9d67-c111233e22de",
    "d67d020a-4d28-3bfd-891d-d6aa7dcf0a69",
    "d6ba4898-1369-3521-981c-b9ac57420418",
    "d70660da-4250-3ad1-a2d0-6a2d97b5379f",
    "d770f926-bca8-31de-9790-73fbb7b6a890",
    "d9fd666a-8f55-38bb-8387-80fa44c29348",
    "dc9c2d63-083f-32c3-90ff-943ca823a245",
    "dd251cc5-736d-3b76-8ad3-3f6cb138178e",
    "e0d2fe70-8f98-3ce2-8d8f-4268a81f7169",
    "e1f37027-6a39-3eb1-b38a-3f2836b84735",
    "e2e921fe-e489-3656-a0a2-5e17bd399ddf",
    "e368d49a-e02a-3374-876e-8325f66c3574",
    "e4d53680-f7ef-364b-91a4-00e5aa91ab9b",
    "e50e7698-de3d-355f-aca2-eddd09c09533",
    "e574050e-f787-3186-9686-2e9aca8102a0",
    "e7e7ebad-79d2-3ae1-95ce-f3035bc8f719",
    "e858fb96-6b1f-3025-b40a-f71fd8d28c32",
    "e94f58d9-177b-31be-aa05-e6dd10d04124",
    "e95c8cc2-ddb3-3e7b-b8c3-e7584a778464",
    "eb142141-683a-3a6d-a207-0302b1ff260d",
    "ed5fc860-c172-39c5-91c0-d712957fb1cd",
    "f2b0585b-ada3-3123-963e-14df7d96ca9e",
    "f3cd0d0d-8b71-3266-9732-d9f0d5778eb6",
    "f41d0e8f-856e-3f7d-a3f9-ff5ba7c8e06d",
    "f4d1a3c3-5002-336b-a67f-775b3725237e",
    "f64ed43e-417a-31ad-a322-b6108bf99a71",
    "f6cc0ebf-fc6a-3bf2-8bcb-76d8c43f194e",
    "f7c4cf87-6bab-3723-bd74-1c9ac5add9cb",
    "f7cdc2d1-f59a-30a2-aae8-8bb81c769e6e",
    "f84b4941-8e99-3957-b6f6-db1590338cf6",
    "fb149ce0-7706-3bb5-9860-8c63d1c77592",
    "fb2cce69-655d-3203-990a-74301895408d",
    "ff52c01e-3d7b-32b1-b6a1-bcff3459ccdd",
    "ff6adc87-5f47-32f7-b36a-546453c0e332",
)

ROW_MAPPING_32 = np.array(
    [
        29,
        15,
        25,
        18,
        31,
        19,
        27,
        22,
        24,
        20,
        23,
        26,
        21,
        17,
        28,
        30,
        5,
        1,
        11,
        14,
        8,
        3,
        7,
        10,
        12,
        6,
        16,
        4,
        9,
        2,
        13,
        0,
    ]
)


# ROW_MAPPING_64 = np.array(
#     [
#         56,
#         22,
#         42,
#         28,
#         61,
#         30,
#         49,
#         36,
#         40,
#         32,
#         38,
#         45,
#         34,
#         26,
#         53,
#         59,
#         8,
#         1,
#         16,
#         20,
#         12,
#         5,
#         11,
#         15,
#         17,
#         9,
#         24,
#         6,
#         13,
#         3,
#         19,
#         0,
#         7,
#         41,
#         21,
#         35,
#         2,
#         33,
#         14,
#         27,
#         23,
#         31,
#         25,
#         18,
#         29,
#         37,
#         10,
#         4,
#         55,
#         62,
#         47,
#         43,
#         51,
#         58,
#         52,
#         48,
#         46,
#         54,
#         39,
#         57,
#         50,
#         60,
#         44,
#         63,
#     ]
# )

ROW_MAPPING_64 = np.array(
    [
        56,
        22,
        42,
        28,
        61,
        30,
        49,
        36,
        40,
        32,
        38,
        45,
        34,
        26,
        53,
        59,
        8,
        1,
        16,
        20,
        12,
        5,
        11,
        15,
        17,
        9,
        24,
        6,
        13,
        3,
        19,
        0,
        7,
        41,
        21,
        35,
        2,
        33,
        14,
        27,
        23,
        31,
        25,
        18,
        29,
        37,
        10,
        4,
        55,
        62,
        47,
        43,
        51,
        58,
        52,
        48,
        46,
        54,
        39,
        57,
        50,
        60,
        44,
        63,
    ]
)
